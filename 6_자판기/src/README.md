# 미션 - 자판기

## 설계

설계한 프로그램 진행 방식은 다음과 같다.

1. 보유 금액 입력 -> 검증 -> 동전 생성 -> 출력
2. 상품 정보 입력 -> 검증 -> 저장
3. 투입 금액 입력 -> 검증 -> 저장
4. 잔액 출력 -> 상품 입력 -> 상품 확인 -> 구매 처리
5. 상품이 없거나 잔액이 최저 금액보다 적으면 결과 출력
6. 상품은 있는데 구매하고자하는 상품이 없으면 재입력
7. 잔액 계산 로직 돌려서 결과 출력

따라서 책임 분리를 통해 나누게 된 파일은 다음과 같다.

### View

- InputView
- OutputView

### Controller

- MachineController

### Model

- Calculator
- Goods
- Validator

## 구현 체크리스트

### InputView

- [x] 보유 금액 입력
- [x] 상품 정보 입력
- [x] 투입 금액 입력
- [x] 구입 상품 입력

### OutputView

- [x] 보유한 동전 출력
- [ ] 투입 금액 출력
- [ ] 결과 출력

### MachineController

- [x] 보유금액 입력 받음
- [x] 보유금액 검증
- [x] 동전 생성 후 출력
  - [x] 500, 100, 50, 10으로 아래 내용 반복
  - [x] 나눈 몫을 구함(Math.floor)
  - [x] 0부터 몫까지의 랜덤 숫자 받아옴
  - [x] 해당 숫자 만큼 동전 생성 후 투입 금액 갱신
  - [x] 10원의 경우 잔돈/10해서 개수 저장
- [x] 동전 개수 배열 return

- [x] 상품 정보 입력
- [x] 상품 정보 검증
- [x] 상품 정보 `Goods`에 전달

- [x] 투입 금액 입력
- [x] 투입 금액 검증
- [ ] 투입 금액 `Calculator`에 전달

- [x] 상품 구매 로직

  - [x] 잔액 출력
  - [x] 상품 입력
  - [x] 상품 존재 여부 확인
  - [ ] 구매 처리 or 재입력 후 반복
  - [x] 반복 종료 or 진행 결정

- [ ] 결과 출력
  - [ ] 잔액 받아옴
  - [ ] 동전 받아옴
  - [ ] 최소한의 동전으로 잔액 처리 가능하도록 처리

### Goods

- [ ] 상품 정보(상품, 개수) map으로 저장
- [ ] 전체 상품 개수 저장
- [ ] 구매 요청 받고 해당 상품 존재 여부 return
- [ ] 존재하면 map update
- [ ] 전체 상품 개수 return

### Calculator

- [ ] 보유 금액 저장
- [ ] 투입 금액 저장
- [ ] 상품 정보(상품, 금액) map으로 저장
- [ ] Goods에서 구매처리 되면(존재여부 return이 true면) 투입금액 update
