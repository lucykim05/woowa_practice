# 🎬 영화관 예매 시스템

#### AI 돌려서 걍 만든(html 포함된 미션이 있어서...) 미션이니까 마음대로 풀어보세용 이거 풀 시간이 있으려나 싶긴함

## 🔍 진행 방식

미션은 기능 요구 사항, 프로그래밍 요구 사항, 과제 진행 요구 사항 세 가지로 구성되어 있다.
세 개의 요구 사항을 만족하기 위해 노력한다. 특히 기능을 구현하기 전에 기능 목록을 만들고, 기능 단위로 커밋 하는 방식으로 진행한다.

## 🚀 기능 요구 사항

영화관 좌석 예매 시스템을 구현해야 한다. 시스템은 아래와 같은 규칙으로 진행된다.영화관 운영 규칙- 영화관은 A, B, C 3개의 상영관을 운영한다.

- 각 상영관은 5행 10열(총 50석)의 좌석을 보유한다.
- 좌석 번호는 A1, A2, ... , E9, E10 형식이다. (행: A~E, 열: 1~10)
- 영화 상영 시간대는 10시, 14시, 18시, 22시 총 4개이다.
- 좌석 등급 및 가격:
  - VIP석(A행, B행): 15,000원
  - 일반석(C행, D행, E행): 10,000원
- 할인 정책:
  - 조조 할인(10시): 전체 금액의 30% 할인
  - 심야 할인(22시): 전체 금액의 20% 할인
  - 단체 할인(4인 이상): 1인당 1,000원 할인 (다른 할인과 중복 적용 가능)주요 기능
    상영 정보 조회

특정 상영관의 특정 시간대 좌석 현황을 조회할 수 있다.
예매된 좌석은 X로, 빈 좌석은 O로 표시한다.

### 좌석 예매

상영관, 시간대, 좌석 번호, 인원수를 입력받아 예매한다.
이미 예매된 좌석은 예매할 수 없다.
입력한 인원수만큼의 연속된 좌석만 예매 가능하다.

### 예매 취소

예매 번호를 입력하여 예매를 취소할 수 있다.
취소 시 해당 좌석들이 다시 예매 가능 상태가 된다.

### 매출 통계

전체 예매 내역을 바탕으로 상영관별, 시간대별 매출을 확인할 수 있다.
총 예매 건수, 총 매출액, 평균 예매 금액을 출력한다.

## 입출력 요구 사항

초기 데이터
프로그램 시작 시 `public/reservations.csv` 파일에서 기존 예매 데이터를 읽어온다.

### 입력

1. 상영 정보 조회

```
상영관을 선택하세요. (A, B, C)
A
시간대를 선택하세요. (10, 14, 18, 22)
10
```

2. 좌석 예매

```
상영관을 선택하세요. (A, B, C)
A
시간대를 선택하세요. (10, 14, 18, 22)
14
인원수를 입력하세요.
4
좌석 번호를 입력하세요. (예: A1)
C3, C4, C5, C6
```

3. 예매 취소

```
취소할 예매 번호를 입력하세요.
R001
```

### 출력

1. 메인 메뉴

```
영화관 예매 시스템에 오신 것을 환영합니다.
원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료
```

2. 상영 정보 조회 결과

```
A 상영관 10시 상영 좌석 현황
  1 2 3 4 5 6 7 8 9 10
A X X X O O O O O O O
B O O O O O O O O O O
C O O O O O O O O O O
D O O O O X O O O O O
E O O O O O O O O O O

VIP석: 20석, 일반석: 30석 중 46석 예매 가능
```

3. 좌석 예매 결과

```
예매가 완료되었습니다.

예매 번호: R006
상영관: A관
시간대: 14시
좌석: C3, C4, C5, C6 (일반석 4석)
인원수: 4명

기본 금액: 40,000원
단체 할인: -4,000원
최종 결제 금액: 36,000원
```

4. 예매 취소 결과

```
예매 번호 R001이 취소되었습니다.
환불 금액: 31,500원
```

5. 매출 통계

```
=== 매출 통계 ===

상영관별 매출
A관: 126,000원 (4건)
B관: 20,000원 (1건)
C관: 16,000원 (1건)

시간대별 매출
10시: 94,500원 (2건)
14시: 20,000원 (1건)
18시: 31,500원 (1건)
22시: 16,000원 (1건)

총 예매 건수: 6건
총 매출액: 162,000원
평균 예매 금액: 27,000원
```

### 실행 결과 예시

```
영화관 예매 시스템에 오신 것을 환영합니다.
원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료

1

상영관을 선택하세요. (A, B, C)
A
시간대를 선택하세요. (10, 14, 18, 22)
10

A 상영관 10시 상영 좌석 현황
  1 2 3 4 5 6 7 8 9 10
A X X X O O O O O O O
B O O O O O O O O O O
C O O O O O O O O O O
D O O O O X O O O O O
E O O O O O O O O O O

VIP석: 20석, 일반석: 30석 중 46석 예매 가능

원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료

2

상영관을 선택하세요. (A, B, C)
A
시간대를 선택하세요. (10, 14, 18, 22)
14
인원수를 입력하세요.
4
좌석 번호를 입력하세요. (예: A1)
C3, C4, C5, C6

예매가 완료되었습니다.

예매 번호: R006
상영관: A관
시간대: 14시
좌석: C3, C4, C5, C6 (일반석 4석)
인원수: 4명

기본 금액: 40,000원
단체 할인: -4,000원
최종 결제 금액: 36,000원

원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료

3

취소할 예매 번호를 입력하세요.
R001

예매 번호 R001이 취소되었습니다.
환불 금액: 31,500원

원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료

4

=== 매출 통계 ===

상영관별 매출
A관: 126,000원 (4건)
B관: 20,000원 (1건)
C관: 16,000원 (1건)

시간대별 매출
10시: 94,500원 (2건)
14시: 20,000원 (1건)
18시: 31,500원 (1건)
22시: 16,000원 (1건)

총 예매 건수: 6건
총 매출액: 162,000원
평균 예매 금액: 27,000원

원하시는 기능을 선택하세요.

1. 상영 정보 조회
2. 좌석 예매
3. 예매 취소
4. 매출 통계
Q. 종료

Q
```

### 예외 상황

```
[ERROR] 잘못된 형식을 입력하였습니다.
[ERROR] 존재하지 않는 상영관입니다.
[ERROR] 잘못된 시간대입니다.
[ERROR] 잘못된 좌석 번호입니다.
[ERROR] 이미 예매된 좌석입니다.
[ERROR] 연속된 좌석이 부족합니다.
[ERROR] 존재하지 않는 예매 번호입니다.
[ERROR] 인원수는 1명 이상이어야 합니다.
```

## 🎯 프로그래밍 요구 사항

- Node.js 18 버전 이상에서 실행 가능해야 한다.
- 프로그램 실행의 시작점은 src/App.js의 App 클래스이다.
- package.json을 변경할 수 없고, 외부 라이브러리를 사용하지 않는다.
- 프로그램 종료 시 process.exit()를 호출하지 않는다.
- indent depth를 3이 넘지 않도록 구현한다. 2까지만 허용한다.
- 3항 연산자를 쓰지 않는다.
- 함수(또는 메서드)의 길이가 15라인을 넘어가지 않도록 구현한다.
- else 예약어를 쓰지 않는다.
- 상수는 Object.freeze()를 활용하여 관리한다.
- 도메인 로직에 단위 테스트를 구현해야 한다. 단, UI 로직은 제외한다.
- Jest를 사용하여 테스트를 작성한다.
- @woowacourse/mission-utils의 Console을 사용하여 구현해야 한다.
