# racingcar

## 요구사항

초간단 자동차 경주 게임을 구현한다.

- 주어진 횟수 동안 n대의 자동차는 전진 또는 멈출 수 있다.
- 각 자동차에 이름을 부여할 수 있다. 전진하는 자동차를 출력할 때 자동차 이름을 같이 출력한다.
- 자동차 이름은 쉼표(,)를 기준으로 구분하며 이름은 5자 이하만 가능하다.
- 사용자는 몇 번의 이동을 할 것인지를 입력할 수 있어야 한다.
- 전진하는 조건은 0에서 9 사이에서 무작위 값을 구한 후 무작위 값이 4 이상일 경우이다.
- 자동차 경주 게임을 완료한 후 누가 우승했는지를 알려준다. 우승자는 한 명 이상일 수 있다.
- 우승자가 여러 명일 경우 쉼표(,)를 이용하여 구분한다.
- 사용자가 잘못된 값을 입력한 경우 throw문을 사용해 "[ERROR]"로 시작하는 메시지를 가지는 예외를 발생시킨 후, 애플리케이션은 종료되어야 한다.
  ```
  예시) [ERROR] 숫자가 잘못된 형식입니다.
  ```

## 설계

일반적인 경주 게임은 구현해봤기에 조금 다르게 구현해보고 싶어졌다. 따라서

1. 기존 자동차 경주 게임
2. '내가' 이길 때까지 진행되는 경주 게임

으로 나눠 진행하기로 하였다. 다만 test 통과를 위해서 파일 분리를 제대로 진행해야한다.

1. 입력

- 진행할 게임
  - 일반적인 게임
    - 자동차 이름
    - 진행할 횟수
  - 새로운 게임
    - 내 자동차 이름
    - 상대 자동차 이름
    - 라운드 횟수
- 재시도 여부

2. 게임 생성

게임의 경우 현재 2가지로 나뉘기에 2가지의 게임을 생성하였다.

- 일반적인 게임

  - 차 객체 생성
  - round 반복
  - 최종 우승자 도출

- 새로운 게임
  - 차 객체 생성
  - round 반복
  - 최종 우승자 도출
  - tryCount 갱신
  - 우승자가 사용자가 아닐 시 다시 반복

3. 라운드 진행

- 차 객체 받아옴
- random 숫자 생성
- 4 이상인 차들만 위치 갱신

4. 차 객체 생성

- 이름 받기
- 자동차 위치 설정

5. 메인

- 입력 받기
- 재시도 여부 입력 받기
- 반복

## 구현 체크리스트

### InputView

- [x] 어떤 게임 진행할지 입력
- [x] 자동차 이름
- [x] 라운드 횟수
- [x] 사용자 자동차 이름
- [x] 상대 자동차 이름
- [x] 재시도 여부

### OutputView

- [x] 라운드 결과 출력
- [x] 최종 우승자 출력
- [x] 게임 종료 및 시도횟수 출력

### GameController

- [x] 차 객체 생성
- [x] round 횟수 만큼 반복
- [x] 최종 우승자 도출

### NewGameController

- [x] 차 객체 생성
- [x] round 횟수 만큼 반복
- [x] 최종 우승자 도출
- [x] tryCount 갱신
- [x] 우승자가 사용자인지 확인
- [x] 사용자면 종료
- [x] 사용자가 아니면 다시 round 반복 호출

### GameRound

- [x] 차 객체 받아옴
- [x] random 숫자 생성
- [x] 4 이상인지 확인
- [x] 차 위치 갱신

### Car

- [x] 이름 받아옴
- [x] 자동차 위치 설정

### App

- [x] 입력 받기
- [x] 재시도 여부 입력 받기
- [x] 재시도 여부에 따라 반복

## 구현 내용

기존 설계와 달라진 부분은 GameRound였는데, round를 반복하는 내용을 따로 담으려고 했다. 하지만 car 객체를 만들고 그 안에 위치를 담당하는 position 상태를 가지고 있게 하였으므로 이 안에서 해결하는 것이 더 맞는 방법이라고 생각하여 GameRound를 삭제, Car에서 random 숫자 생성, 차 위치 갱신등을 해결하였다.<br />

또한 가장 어려웠던 점은 굳이굳이 새로운 게임을 만들겠다고 한 부분인데, 그리고 우승자를 출력하는 부분도 조금 어려웠다. 아직 `map`이나 `forEach` 사용이 미숙하여 어떻게 사용하는지에 대해서 고민하고 있다.

그리고 지속적인 디버깅에 대한 중요성도 깨닫고 있다. 중간중간 console에 출력하여 내용을 확인하고 있지만, 정작 중요한 부분에는 빼놓고 써서 도대체 어디서 에러가 나는거야... 하는 상태에 자주 빠지고 있는 것 같다.
