# 🏪 편의점

## 설계

일단 프로그램의 진행과정을 정리하였고, 진행 순서는 다음과 같다.

1. products, promotion 받아옴 -> 날짜 비교 -> 저장
2. 보유한 상품 출력 -> 구매할 상품, 수량 입력
3. 입력된 내용 형식 오류 검증
4. 재고 수량 확인 -> 프로모션 재고 모자라면 계속 진행 여부 확인 후 다음
5. 프로모션 가능한 제품이 있으면 증졍 여부 확인 후 다음
6. 수량이 없거나 재고가 없는 제품이면 오류 처리
7. 모든 단계 완료되면 멤버십 여부 확인
8. 멤버십 처리 후 결과 출력

이 순서에 따라서 책임 분리를 하였고, 정리하면 다음과 같다.

### View

- InputView(사용자 입력 처리)
- OutputView(출력 처리)

### Controller

- Controller(메인 컨트롤러, 입출력 처리 및 종합적인 처리 담당)

### Model

- Store(상품 재고)
- Customer(사용자 정보)
- Worker(사용자 내용과 상품 재고 상호작용)
- Calculator(결과 도출)
- Validator(검증)

위와 같은 계층 분리를 통해 설계한 세부적인 기능들은 체크리스트로 정리하였습니다.

## 구현 체크리스트

### InputView

- [ ] 구매할 상품명 & 수량 입력
- [ ] 프로모션 재고 없을 때 진행 여부
- [ ] 프로모션 증정 여부
- [ ] 멤버십 여부
- [ ] 계속 구매 여부

### OutputView

- [ ] 재고 출력
- [ ] 영수증 출력

### Validator

- [ ] 입력된 상품 형식 검증
- [ ] 재고 수량 검증
- [ ] 재고 존재 여부 검증
- [ ] 기타 오류

### Controller

- [ ] 상품 정보 받아옴 -> store로 전달
- [ ] 구매 입력 받아옴 -> worker로 전달
- [ ] worker 통해 단계 반복
- [ ] 프로모션 재고 모자랄 시 입력 받아옴 -> worker 전달
- [ ] 프로모션 증정 있을 시 입력 받아옴 -> worker 전달
- [ ] 모든 단계 종료 시 멤버십 입력
- [ ] 종료된 결과 Calculator로 전달
- [ ] 영수증 내용 출력
- [ ] 추가 구매 여부 확인 후 반복

### Store

- [ ] 상품 정보 저장
- [ ] 프로모 여부 확인
- [ ] 재고 확인
- [ ] 구매 처리

### Customer

- [ ] 구매한 상품 저장
- [ ] 증정된 상품 저장

### Worker

- [ ] 구매 요청 받음
- [ ] 프로모 여부 확인(store 통해)
- [ ] 재고 확인(store 통해)
- [ ] 구매 처리(store, customer)

### Calculator

- [ ] Customer 구매 상품 정보 받아옴
- [ ] 멤버십 여부 받아옴
- [ ] 금액 계산
